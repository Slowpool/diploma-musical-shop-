@using MusicalShopApp.Models.Goods
@using DataLayer.SupportClasses

@model GoodsSearchModel

<div>
    <form asp-controller="Goods" asp-action="Search" method="get">
        <div>
            <input asp-for="ResearchText" name="q" placeholder="Поиск..." />
        </div>
        <div>
            <label for="kind-of-goods">Вид товара</label>
            <span id="kind-of-goods">
                <input id="radio-musical-instrument" type="radio" asp-for="Filter.KindOfGoods" value="MusicalInstruments" />
                <label for="radio-musical-instrument">Музыкальный инструмент</label>
                <input id="radio-accessory" type="radio" asp-for="Filter.KindOfGoods" value="Accessories" />
                <label for="radio-accessory">Аксессуар</label>
                <input id="radio-sheet-music-edition" type="radio" asp-for="Filter.KindOfGoods" value="SheetMusicEditions" />
                <label for="radio-sheet-music-edition">Нотное издание</label>
                <input id="radio-audio-equipment-unit" type="radio" asp-for="Filter.KindOfGoods" value="AudioEquipmentUnits" />
                <label for="radio-audio-equipment-unit">Аудиоаппаратура</label>
            </span>
        </div>
        <div>
            <label for="goods-price">Цена</label>
            <span id="goods-price">
                <label for="number-min-price"> от</label>
                <input id="number-min-price" asp-for="Filter.MinPrice" min="0" max="4294967295" />
                <label for="number-max-price">до</label>
                <input id="number-max-price" asp-for="Filter.MaxPrice" min="0" max="4294967295" />
            </span>
        </div>
        <div>
            <label for="date-receipt-date">Дата получения</label>
            <span id="date-receipt-date">
                <label for="date-from-receipt-date">от</label>
                <input type="datetime-local" id="date-from-receipt-date" asp-for="Filter.FromReceiptDate" />
                <label for="date-to-receipt-date">до</label>
                <input type="datetime-local" id="date-to-receipt-date" asp-for="Filter.ToReceiptDate" />
            </span>
        </div>
        <div>
            <label for="order-goods-by">Сортировать по</label>
            <span id="order-goods-by">
                <input id="order-goods-by-relevance" type="radio" value="Relevance" name="OrderBy.OrderBy" asp-for="OrderBy.OrderBy"/>
                <label for="order-goods-by-relevance">Релевантность</label>
                <input id="order-goods-by-price" type="radio" value="Price" name="OrderBy.OrderBy" asp-for="OrderBy.OrderBy"/>
                <label for="order-goods-by-price">Цена</label>
                <input id="order-goods-by-receipt-date" type="radio" value="ReceiptDate" name="OrderBy.OrderBy" asp-for="OrderBy.OrderBy"/>
                <label for="order-goods-by-receipt-date">Дата поставки на склад</label>
            </span>
        </div>
        <div>
            <label for="goods-status">Статус</label>
            <span id="goods-status">
                <input id="radio-in-stock" type="radio" value="InStock" asp-for="Filter.Status" />
                <label for="radio-in-stock">На складе</label>
                <input id="radio-awaiting-delivery" type="radio" value="AwaitingDelivery" asp-for="Filter.Status" />
                <label for="radio-awaiting-delivery">Ожидает поставки</label>
                <input id="radio-reserved" type="radio" value="Reserved" asp-for="Filter.Status" />
                <label for="radio-reserved">Зарезервировано</label>
                <input id="radio-sold" type="radio" value="Sold" asp-for="Filter.Status" />
                <label for="radio-sold">Продано</label>
            </span>
        </div>
        <input type="submit" value="Поиск (удалить)" />
    </form>
    <div class="goods-search-results">
        @foreach (var goods in Model.GoodsUnitModels)
        {
            <div goods-mini-card>
                <a href="@goods.Id">
                    <h4 class="goods-mini-card-name">@goods.Name</h4>
                </a>
                <div class="goods-mini-card-type">
                    @goods.Type
                </div>
                <div class="goods-mini-card-description">
                    @goods.Description
                </div>
                <div>
                    <span class="goods-mini-card-price">
                        @goods.Price
                    </span>
                    <span class="goods-mini-card-status">
                        @goods.Status.ToFormattedText()
                    </span>
                </div>
            </div>
            <hr class="narrow"/>
        }
    </div>
</div>